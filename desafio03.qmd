---
title: "Desafio 3"
author: "Gabriel de Andrade Belchior"
format: pdf
editor: visual
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(message = FALSE, warning = FALSE)

```

-Carregar o pacote arrow:

```{r}
library(arrow)
```

Importa o pacote arrow, que permite trabalhar com arquivos do tipo Parquet no R.

Fornece funções como read_parquet() para ler dados de forma rápida e eficiente.

-Ler um arquivo Parquet como data.frame:

```{r}
df1 <- read_parquet("species.parquet", as_data_frame = TRUE)
```

Lê o arquivo "species.parquet" do disco.

O argumento as_data_frame = TRUE garante que o resultado seja um data.frame clássico do R (em vez de um objeto Arrow Table).

-Carregar o pacote jsonlite:

```{r}
library(jsonlite)
```

Importa o pacote jsonlite, que permite ler e manipular arquivos JSON no R.

Fornece a função fromJSON() para transformar arquivos JSON em data.frame ou listas.

-Definir a URL do arquivo JSON

```{r}
url <- "https://storage.googleapis.com/kagglesdsdata/datasets/8074387/12903847/heart_disease_dataset.json?X-Goog-Algorithm=GOOG4-RSA-SHA256&X-Goog-Credential=gcp-kaggle-com%40kaggle-161607.iam.gserviceaccount.com%2F20250902%2Fauto%2Fstorage%2Fgoog4_request&X-Goog-Date=20250902T003745Z&X-Goog-Expires=259200&X-Goog-SignedHeaders=host&X-Goog-Signature=5369caa74c0af077cc83473e7e5ee5e0c3f72ee3117dfe21957244068b5d956285c1a56d7da9fa313ecc52cfbf70560dbaeea0346f9857c6f03f15b9a8d7f51e68b3119bf9fd6c5712f8e3d1528acff425205b4018f390b1b01ad5b0dfb6f6b842daaecb986477ac4935d77303bdf703f550144debaa416317062db70850fccebef136d95a0aae83e4dab6450bd866f004d38d8588febe0d50031d0f4ae0078de7acc0d31f7e692adf3d77d410b668d36cb4e1b46d1ae338d004ceec578bc05279c7ab9d5b03714dc0240caa307ab13bb2c2a265668617dcf63c851bc0c6bc0c08fad93693e00c270bc3b4d08b1e7aef68eb56d8728b321e3d48b63804bfcfb2"
```

Cria uma variável url que contém o link completo para o dataset em JSON.

Esse link é do Kaggle, e é um link assinado temporário, que permite o download direto sem precisar de login.

-Ler o arquivo JSON e transformar em data.frame

```{r}
df2 <- fromJSON(url, flatten = TRUE)
```

Lê o arquivo JSON a partir da URL.

flatten = TRUE transforma listas internas (camadas aninhadas) em colunas planas, criando uma tabela tabular.
